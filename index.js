(function(){"use strict";function o(n,e,t,s,i,a,w,C){var r=typeof n=="function"?n.options:n;return e&&(r.render=e,r.staticRenderFns=t,r._compiled=!0),{exports:n,options:r}}const l={props:{disabled:Boolean,help:String,label:String,required:Boolean,when:String,value:String,score:Number,url:String,loading:{type:Boolean,default:!1},paid:{type:Boolean,default:!1}},watch:{hasChanges(){this.hasChanges||this.syncContent()}},computed:{hasChanges(){return this.$store.getters["content/hasChanges"]()},scoreDyn(){return this.hasChanges||this.loading?"":this.score},color(){if(!this.score||this.hasChanges)return"white";if(this.score<=30)return"red";if(this.score<=80)return"yellow";if(this.score>80)return"green"}},methods:{onInput(n){this.$emit("input",n)},syncContent(){let e=this.$store.getters["content/id"]().split("?"),t=e[0],s=!1;if(e.length>1){let i=new URLSearchParams(e[1]);for(let a of i.entries())a[0]=="language"&&(s=a[1])}this.loading=!0,this.$api.get("seobility/keywordcheck",{id:t,lang:s}).then(i=>{this.score=i.score,this.url=i.url,this.loading=!1}).catch(i=>{this.loading=!1})}}};var d=function(){var e=this,t=e._self._c;return t("k-field",{staticClass:"keyword-wrapper",attrs:{disabled:e.disabled,help:e.help,label:e.label,required:e.required,when:e.when}},[t("k-input",{attrs:{theme:"field",type:"text",value:e.value},on:{input:e.onInput}},[t("k-button",{class:["k-button k-input-icon-button keywordcheck",e.color],attrs:{slot:"icon",link:e.url,tooltip:e.$t("open"),variant:"filled",tabindex:"-1",target:"_blank",text:e.scoreDyn},slot:"icon"})],1),e.paid?e._e():t("div",{staticClass:"keywordlink"},[e._v("powered by "),t("a",{attrs:{href:"https://www.seobility.net/en/?ref=kirby3-seobility-plugin",target:"_blank"}},[e._v("Seobility.net")])])],1)},h=[],g=o(l,d,h);const c=g.exports,u={props:{disabled:Boolean,help:String,headline:String,label:String,progress:String,notranked:{type:String,default:"Page is not ranked."},rank:Number,when:String,loading:{type:Boolean,default:!1}},computed:{hasChanges(){return this.$store.getters["content/hasChanges"]()},info(){return this.rank?"<div class='table'><div>#"+this.rank+"</div><div><b>"+this.title+"</b><br>"+this.description+"</div></div>":this.notranked},theme(){return this.rank>0?"info":"negative"}},methods:{onClick(){let e=this.$store.getters["content/id"]().split("?"),t=e[0],s=!1;if(e.length>1){let i=new URLSearchParams(e[1]);for(let a of i.entries())a[0]=="language"&&(s=a[1])}this.loading=!0,this.$api.get("seobility/ranking",{id:t,lang:s}).then(i=>{this.rank=i.rank,this.title=i.title,this.description=i.description,this.loading=!1}).catch(i=>{this.rank=void 0,this.loading=!1})}}};var f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ranking-wrapper"},[e.rank===void 0?t("k-field",{attrs:{disabled:e.disabled,help:e.help,label:e.headline,required:e.required,when:e.when}},[t("k-button",{class:["k-button ranking",e.loading?"loading":""],attrs:{icon:e.loading?"loader":void 0,variant:"filled",disabled:e.hasChanges},on:{click:e.onClick}},[e._v(" "+e._s(e.loading?e.progress:e.label)+" ")])],1):e._e(),e.rank!==void 0?t("k-info-field",{staticClass:"ranking-info",attrs:{label:e.headline,theme:e.theme,text:e.info}}):e._e()],1)},p=[],k=o(u,f,p);const v=k.exports,_={props:{disabled:Boolean,help:String,headline:String,label:String,progress:String,less:String,ok:String,more:String,when:String,hasSuggestions:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{hasChanges(){return this.$store.getters["content/hasChanges"]()},moreWithIcon(){return'<div class="table"><div><svg data-size="32"><use xlink:href="#icon-add"></use></svg></div><div>'+this.more.join(", ")+"</div></div>"},lessWithIcon(){return'<div class="table"><div><svg data-size="32"><use xlink:href="#icon-remove"></use></svg></div><div>'+this.less.join(", ")+"</div></div>"},okWithIcon(){return'<div class="table"><div><svg data-size="32"><use xlink:href="#icon-check"></use></svg></div><div>'+this.ok.join(", ")+"</div></div>"}},methods:{onClick(){let e=this.$store.getters["content/id"]().split("?"),t=e[0],s=!1;if(e.length>1){let i=new URLSearchParams(e[1]);for(let a of i.entries())a[0]=="language"&&(s=a[1])}this.loading=!0,this.$api.get("seobility/termsuggestion",{id:t,lang:s}).then(i=>{this.more=i.more,this.less=i.less,this.ok=i.ok,this.hasSuggestions=!0,this.loading=!1}).catch(i=>{this.hasSuggestions=!1,this.loading=!1})}}};var m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"termsuggestion-wrapper"},[t("k-field",{class:["termsuggestion-field",e.hasSuggestions?"nobutton":""],attrs:{disabled:e.disabled,help:e.help,label:e.headline,required:e.required,when:e.when}},[e.hasSuggestions?e._e():t("k-button",{class:["k-button termsuggestion",e.loading?"loading":""],attrs:{icon:e.loading?"loader":void 0,variant:"filled",disabled:e.hasChanges},on:{click:e.onClick}},[e._v(" "+e._s(e.loading?e.progress:e.label)+" ")])],1),e.more!==void 0&&e.more.length?t("k-info-field",{staticClass:"termsuggestion-info more",attrs:{theme:"positive",text:e.moreWithIcon}}):e._e(),e.less!==void 0&&e.less.length?t("k-info-field",{staticClass:"termsuggestion-info less",attrs:{theme:"negative",text:e.lessWithIcon}}):e._e(),e.ok!==void 0&&e.ok.length?t("k-info-field",{staticClass:"termsuggestion-info ok",attrs:{theme:"info",text:e.okWithIcon}}):e._e()],1)},b=[],S=o(_,m,b);const y=S.exports;panel.plugin("bnomei/seobility",{fields:{keywordcheck:c,ranking:v,termsuggestion:y}})})();
