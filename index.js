(function(){"use strict";function s(i,e,t,m,y,w,S,$){var n=typeof i=="function"?i.options:i;return e&&(n.render=e,n.staticRenderFns=t,n._compiled=!0),{exports:i,options:n}}const a={props:{disabled:Boolean,help:String,label:String,required:Boolean,when:String,value:String,score:Number,url:String,loading:{type:Boolean,default:!1},paid:{type:Boolean,default:!1}},watch:{hasChanges(){this.hasChanges||this.syncContent()}},computed:{hasChanges(){return Object.keys(this.$panel.content.changes()).length>0},scoreDyn(){return this.hasChanges||this.loading?"":this.score},color(){if(!this.score||this.hasChanges)return"white";if(this.score<=30)return"red";if(this.score<=80)return"yellow";if(this.score>80)return"green"}},methods:{onInput(i){this.$emit("input",i)},syncContent(){var i,e;this.loading=!0,this.$api.get("seobility/keywordcheck",{id:this.$panel.view.props.id,lang:((e=(i=this.$panel)==null?void 0:i.$language)==null?void 0:e.code)||!1}).then(t=>{this.score=t.score,this.url=t.url,this.loading=!1}).catch(t=>{this.loading=!1})}}};var o=function(){var e=this,t=e._self._c;return t("k-field",{staticClass:"keyword-wrapper",attrs:{disabled:e.disabled,help:e.help,label:e.label,required:e.required,when:e.when}},[t("k-input",{attrs:{theme:"field",type:"text",value:e.value},on:{input:e.onInput}},[t("k-button",{class:["k-button k-input-icon-button keywordcheck",e.color],attrs:{slot:"icon",link:e.url,tooltip:e.$t("open"),variant:"filled",tabindex:"-1",target:"_blank",text:e.scoreDyn},slot:"icon"})],1),e.paid?e._e():t("div",{staticClass:"keywordlink"},[e._v("powered by "),t("a",{attrs:{href:"https://www.seobility.net/en/?ref=kirby3-seobility-plugin",target:"_blank"}},[e._v("Seobility.net")])])],1)},r=[],l=s(a,o,r);const d=l.exports,h={props:{disabled:Boolean,help:String,headline:String,label:String,progress:String,notranked:{type:String,default:"Page is not ranked."},rank:Number,when:String,loading:{type:Boolean,default:!1}},computed:{hasChanges(){return Object.keys(this.$panel.content.changes()).length>0},info(){return this.rank?"<div class='table'><div>#"+this.rank+"</div><div><b>"+this.title+"</b><br>"+this.description+"</div></div>":this.notranked},theme(){return this.rank>0?"info":"negative"}},methods:{onClick(){var i,e;this.loading=!0,this.$api.get("seobility/ranking",{id:this.$panel.view.props.id,lang:((e=(i=this.$panel)==null?void 0:i.$language)==null?void 0:e.code)||!1}).then(t=>{this.rank=t.rank,this.title=t.title,this.description=t.description,this.loading=!1}).catch(t=>{this.rank=void 0,this.loading=!1})}}};var c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ranking-wrapper"},[e.rank===void 0?t("k-field",{attrs:{disabled:e.disabled,help:e.help,label:e.headline,required:e.required,when:e.when}},[t("k-button",{class:["k-button ranking",e.loading?"loading":""],attrs:{icon:e.loading?"loader":void 0,variant:"filled",disabled:e.hasChanges},on:{click:e.onClick}},[e._v(" "+e._s(e.loading?e.progress:e.label)+" ")])],1):e._e(),e.rank!==void 0?t("k-info-field",{staticClass:"ranking-info",attrs:{label:e.headline,theme:e.theme,text:e.info}}):e._e()],1)},g=[],u=s(h,c,g);const f=u.exports,p={props:{disabled:Boolean,help:String,headline:String,label:String,progress:String,less:String,ok:String,more:String,when:String,hasSuggestions:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{hasChanges(){return Object.keys(this.$panel.content.changes()).length>0},moreWithIcon(){return'<div class="table"><div><svg data-size="32"><use xlink:href="#icon-add"></use></svg></div><div>'+this.more.join(", ")+"</div></div>"},lessWithIcon(){return'<div class="table"><div><svg data-size="32"><use xlink:href="#icon-remove"></use></svg></div><div>'+this.less.join(", ")+"</div></div>"},okWithIcon(){return'<div class="table"><div><svg data-size="32"><use xlink:href="#icon-check"></use></svg></div><div>'+this.ok.join(", ")+"</div></div>"}},methods:{onClick(){var i,e;this.loading=!0,this.$api.get("seobility/termsuggestion",{id:this.$panel.view.props.id,lang:((e=(i=this.$panel)==null?void 0:i.$language)==null?void 0:e.code)||!1}).then(t=>{this.more=t.more,this.less=t.less,this.ok=t.ok,this.hasSuggestions=!0,this.loading=!1}).catch(t=>{this.hasSuggestions=!1,this.loading=!1})}}};var k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"termsuggestion-wrapper"},[t("k-field",{class:["termsuggestion-field",e.hasSuggestions?"nobutton":""],attrs:{disabled:e.disabled,help:e.help,label:e.headline,required:e.required,when:e.when}},[e.hasSuggestions?e._e():t("k-button",{class:["k-button termsuggestion",e.loading?"loading":""],attrs:{icon:e.loading?"loader":void 0,variant:"filled",disabled:e.hasChanges},on:{click:e.onClick}},[e._v(" "+e._s(e.loading?e.progress:e.label)+" ")])],1),e.more!==void 0&&e.more.length?t("k-info-field",{staticClass:"termsuggestion-info more",attrs:{theme:"positive",text:e.moreWithIcon}}):e._e(),e.less!==void 0&&e.less.length?t("k-info-field",{staticClass:"termsuggestion-info less",attrs:{theme:"negative",text:e.lessWithIcon}}):e._e(),e.ok!==void 0&&e.ok.length?t("k-info-field",{staticClass:"termsuggestion-info ok",attrs:{theme:"info",text:e.okWithIcon}}):e._e()],1)},v=[],_=s(p,k,v);const b=_.exports;panel.plugin("bnomei/seobility",{fields:{keywordcheck:d,ranking:f,termsuggestion:b}})})();
